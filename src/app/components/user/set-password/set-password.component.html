<app-alert [(error)]="redirectAlertError" successMessage="{{ 'SET_PASSWORD.REDIRECT_MESSAGE' | translate }}">
</app-alert>

<div class="login-panel">
    <h2 class="login-heading">{{ 'SET_PASSWORD.TITLE' | translate }}</h2>

    <form [formGroup]="form" (submit)="onSumbit()" class="row">
         <div class="form-group col-md-12">
            <label for="password">{{ 'COMMON.PASSWORD' | translate }}*</label>
            <input type="password" class="form-control form-control" id="password" formControlName="password" 
                   required="true" />
            <div *ngIf="password.errors?.minlength" class="invalid-field">
                {{ 'SET_PASSWORD.PASSWORD_CRITERIA' | translate }}
            </div> 
        </div>
        <div class="form-group col-md-12">
            <label for="password-confirmation">{{ 'COMMON.PASSWORD_CONFIRMATION' | translate }}*</label>
            <input type="password" class="form-control form-control" id="password-confirmation" 
                    formControlName="passwordConfirmation" required="true" />
            <div *ngIf="passwordConfirmation.errors?.minlength" class="invalid-field">
                {{ 'SET_PASSWORD.PASSWORD_CRITERIA' | translate }}
            </div> 
            <div class="row col-md-12 invalid-field" *ngIf="form.errors">{{ 'COMMON.PASSWORD_MATCH_ERROR' | translate }}</div>            
        </div>
            
        <div class="form-group col-md-12">
            <app-submit-button value="{{ 'SET_PASSWORD.BUTTON' | translate }}"
                               loadingValue="{{ 'COMMON.LOADING' | translate }}" 
                               [subscription]="setPasswordSubscription" [form]="form">
            </app-submit-button>
        </div>
        <div class="col">
            <app-server-error-message [(error)]="error" defaultMessage="{{ 'COMMON.SERVER_ERROR' | translate }}">
            </app-server-error-message>
        </div>
    </form>
</div>