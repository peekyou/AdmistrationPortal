<app-lock package="2"></app-lock>

<div class="container sms-container" *ngIf="user.getPackage() >= 2">
    <div class="card">
        <h6 class="card-header">{{ 'TOOLBAR.SMS_PACKS' | translate }}</h6>                
        <div class="card-body">
            <ngx-loading [show]="loading" [config]="{ backdropBackgroundColour: 'transparent' }"></ngx-loading>
            <div class="row" *ngIf="smsPack">
                <div class="col-12 col-lg-6">
                    <div>
                        <div class="cyan bold lead">{{ 'SMS_PACKS.STOCK' | translate }}</div>
                        <app-circle-progress
                            subtitle="{{ 'SMS_PACKS.SMS' | translate }}"
                            [title]="quota" 
                            backgroundColor="#0cb3c2"
                            backgroundOpacity=1
                            backgroundStroke="#000000"
                            backgroundPadding="7"
                            radius=33
                            space=-3
                            maxPercent=100
                            unitsColor="#ffffff"
                            outerStrokeWidth=3
                            outerStrokeColor="#ffffff"
                            innerStrokeColor="#ffdf72"
                            innerStrokeWidth=3
                            titleColor="#ffffff"
                            titleFontSize="18"
                            subtitleColor="#ffffff"
                            subtitleFontSize=13
                            animationDuration=0
                            [showUnits]=false
                            percent="100">
                        </app-circle-progress>
                    </div>
                    <form class="form" #form="ngForm" (ngSubmit)="form.valid && openModal()" novalidate>
                        <div class="form-group">
                            <label for="stock" class="cyan sms-label">{{ 'SMS_PACKS.BUY' | translate }} {{ packNumber * smsPack.smsNumber }} {{ 'SMS_PACKS.ADD_SMS_LABEL' | translate }} {{ packNumber * smsPack.price }}{{ currency }}</label>
                            <input type="number" id="stock" name="stock" class="form-control mx-sm-3" min="1" max="10000" 
                                    [(ngModel)]="packNumber" (keypress)="onInputChange($event)" step="1">
                        </div>
                        <app-submit-button value="{{ 'SMS_PACKS.BUY_BTN' | translate }}" [form]="form" 
                            buttonClass="btn btn-primary btn-lg">
                        </app-submit-button>
                    </form>
                    <!-- <p class="text-muted">
                        {{ 'SMS_PACKS.INVOICE_NOTICE' | translate }}
                    </p> -->
                    <!-- <button type="button" class="btn btn-success btn-lg" (click)="openModal()">Buy!</button>           -->
                </div>
                <div class="col-12 col-lg-6">
                    <p class="lead theme-color bold">{{ 'SMS_PACKS.NEW_STOCK' | translate }}</p>                                            
                    <app-circle-progress 
                        subtitle="{{ 'SMS_PACKS.SMS' | translate }}"
                        [title]="(packNumber * smsPack.smsNumber) + quota" 
                        backgroundColor="#fdbc00"
                        backgroundOpacity=1
                        backgroundStroke="#000000"
                        backgroundPadding="14"
                        radius=70
                        space=-9
                        maxPercent=100
                        unitsColor="#ffffff"
                        outerStrokeWidth=9
                        outerStrokeColor="#ffffff"
                        innerStrokeColor="#ffdf72"
                        innerStrokeWidth=9
                        titleColor="#ffffff"
                        titleFontSize="35"
                        subtitleColor="#ffffff"
                        subtitleFontSize=17
                        animationDuration=0
                        [showUnits]="false"
                        percent="80">
                    </app-circle-progress>
                </div>
            </div>
        </div>
    </div>
</div>